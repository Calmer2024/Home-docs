# 指令

## NVM操作指令

| 命令                     | 说明                                                         |
| ------------------------ | ------------------------------------------------------------ |
| nvm list                 | 查看已经安装的版本                                           |
| nvm list installed       | 查看已经安装的版本                                           |
| nvm list available       | 查看网络可以安装的版本                                       |
| nvm arch                 | 查看当前系统的位数和当前nodejs的位数                         |
| nvm install [arch]       | 安装制定版本的node 并且可以指定平台 version 版本号 arch 平台 |
| nvm on                   | 打开nodejs版本控制                                           |
| nvm off                  | 关闭nodejs版本控制                                           |
| nvm proxy [url]          | 查看和设置代理                                               |
| nvm node_mirror [url]    | 设置或者查看setting.txt中的node_mirror，如果不设置的默认是 https://nodejs.org/dist/ |
| nvm npm_mirror [url]     | 设置或者查看setting.txt中的npm_mirror,如果不设置的话默认的是：https://github.com/npm/npm/archive/. |
| nvm uninstall            | 卸载指定的版本                                               |
| nvm use [version] [arch] | 切换指定的node版本和位数                                     |
| nvm root [path]          | 设置和查看root路径                                           |
| nvm version              | 查看当前的版本                                               |





## Conda 操作指令

Conda 是一个开源的包管理系统和环境管理系统，用于安装、运行和更新包及其依赖项。它能够轻松地在本地计算机上创建、保存、加载和切换环境。

#### 一、核心概念

- **环境 (Environment)**: 一个独立的目录，包含特定版本的 Python 和一系列特定的库/包。不同环境之间相互隔离，可以防止包版本冲突。
- **包 (Package)**: 预编译的软件库，可以通过 Conda 进行安装。
- **通道 (Channel)**: 存储和托管包的仓库。Conda 默认从 `defaults` 通道搜索和下载包，但也可以指定其他通道，如社区维护的 `conda-forge`。



#### 二、环境管理 (Environment Management)

管理环境是 Conda 最核心的功能。

| 功能              | 命令                                                     | 示例与说明                                                   |
| ----------------- | -------------------------------------------------------- | ------------------------------------------------------------ |
| **创建新环境**    | conda create -n <env_name> [python=x.x] [package_names]  | conda create -n myenv python=3.9 pandas <br> 创建一个名为 myenv 的环境，指定 Python 版本为 3.9，并预装 pandas 包。 |
| **激活环境**      | conda activate <env_name>                                | conda activate myenv   进入并开始使用指定的环境。激活后，终端提示符前会显示环境名称。 |
| **退出环境**      | conda deactivate                                         | 直接执行即可，会退回到 base 环境。                           |
| **查看所有环境**  | conda env list 或 conda info --envs                      | 列出所有已创建的环境，当前激活的环境会以 * 标记。            |
| **复制/克隆环境** | conda create -n <new_env_name> --clone <source_env_name> | conda create -n myenv_backup --clone myenv   创建一个与源环境一模一样的新环境。 |
| **删除环境**      | conda remove -n <env_name> --all                         | conda remove -n myenv --all   彻底删除指定的环境及其中的所有包。 |



#### 三、包管理 (Package Management)

在已激活的环境中，可以对包进行搜索、安装、更新和删除。

| 功能               | 命令                                           | 示例与说明                                                   |
| ------------------ | ---------------------------------------------- | ------------------------------------------------------------ |
| **搜索包**         | conda search <package_name>                    | conda search numpy   从配置的通道中搜索可用的包版本。        |
| **安装包**         | conda install <package_name>[=version]         | conda install numpy 或 conda install numpy=1.23   在当前激活的环境中安装包，可指定版本。 |
| **从指定通道安装** | conda install -c <channel_name> <package_name> | conda install -c conda-forge beautifulsoup4 <br> -c 代表 channel，conda-forge 是一个非常流行的社区通道。 |
| **查看已安装的包** | conda list                                     | 列出当前环境中所有已安装的包及其版本。                       |
| **更新指定包**     | conda update <package_name>                    | conda update pandas   将指定的包更新到最新的兼容版本。       |
| **更新所有包**     | conda update --all                             | 更新当前环境中所有可以更新的包。                             |
| **删除包**         | conda remove <package_name>                    | conda remove numpy   从当前环境中卸载指定的包。              |



#### 四、共享与复现环境

为了保证代码的可复现性，可以将环境配置导出为文件，方便他人或自己在其他机器上创建一模一样的环境。

| 功能               | 命令                                | 示例与说明                                                   |
| ------------------ | ----------------------------------- | ------------------------------------------------------------ |
| **导出环境配置**   | conda env export > environment.yml  | 在**已激活**的环境中运行此命令，会将环境中所有包（包括 Python 版本）的信息保存到 environment.yml 文件中。 |
| **从文件创建环境** | conda env create -f environment.yml | Conda 会读取 yml 文件中的配置，并自动创建一个包含所有指定包的新环境。环境名称通常在 yml 文件第一行定义。 |



#### 五、Conda 自身管理与其他命令

| 功能                | 命令                                                         | 示例与说明                                                   |
| ------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **检查 Conda 版本** | conda --version 或 conda -V                                  | 查看当前 Conda 的版本号。                                    |
| **更新 Conda**      | conda update -n base -c defaults conda                       | 推荐使用此命令来更新 Conda 自身。                            |
| **清理缓存**        | conda clean --all                                            | 删除未使用的包和缓存文件，可以释放磁盘空间。建议定期执行。   |
| **查看配置信息**    | conda config --show                                          | 显示 Conda 的所有配置信息，如通道地址、代理设置等。          |
| **添加/删除通道**   | conda config --add channels <channel_name><br>conda config --remove channels <channel_name> | conda config --add channels conda-forge   添加通道后，将来安装包时会优先从该通道搜索。 |



### 快速查询备忘单 (Cheat Sheet)

| 任务           | 命令                                   |
| -------------- | -------------------------------------- |
| 创建环境       | conda create -n myenv python=3.9       |
| 激活环境       | conda activate myenv                   |
| 退出环境       | conda deactivate                       |
| 安装包         | conda install numpy                    |
| 列出已安装的包 | conda list                             |
| 导出环境       | conda env export > environment.yml     |
| 从文件创建环境 | conda env create -f environment.yml    |
| 删除环境       | conda remove -n myenv --all            |
| 更新Conda      | conda update -n base -c defaults conda |
| 清理缓存       | conda clean --all                      |



### 在特定盘配环境

配置:

```
conda create --prefix D:\soft\conda_envs\my_new_d_env python=3.9

conda create --prefix D:\soft\conda_envs\Thryve python=3.11.9
```

激活:

```
conda activate D:\soft\conda_envs\my_new_d_env

conda activate D:\soft\conda_envs\Thryve
```





## Typst 操作指令

Windows cmd 运行命令安装 Typst 编译器

```
winget install --id Typst.Typst
```

打开 VS Code 的集成终端 (`Ctrl+``)。

输入编译命令：

```bash
typst compile hello.typ
```

这会立即生成 `hello.pdf`。

如果你希望在外部 PDF 阅读器中查看，并让它也实时更新，可以使用 `watch` 命令：

```bash
typst watch hello.typ
```

这样，你每次保存 `.typ` 文件时，`hello.pdf` 都会被重新编译。

